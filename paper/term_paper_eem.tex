\documentclass[12pt,a4paper]{article}
\usepackage{lmodern}

\usepackage{placeins}
\usepackage{booktabs}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
    \usepackage{xltxtra,xunicode}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
  \newcommand{\euro}{€}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[lmargin = 3 cm,rmargin = 2.5cm,tmargin=2.5cm,bmargin=2.5cm]{geometry}

% Figure Placement:
\usepackage{float}
\let\origfigure\figure
\let\endorigfigure\endfigure
\renewenvironment{figure}[1][2] {
    \expandafter\origfigure\expandafter[H]
} {
    \endorigfigure
}

%% citation setup
\usepackage{csquotes}

\usepackage[backend=biber, maxbibnames = 99, style = apa]{biblatex}
\setlength\bibitemsep{1.5\itemsep}
\addbibresource{R_packages.bib}
\bibliography{references.bib}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\ifxetex
  \usepackage[setpagesize=false, % page size defined by xetex
              unicode=false, % unicode breaks when used with xetex
              xetex]{hyperref}
\else
  \usepackage[unicode=true, linktocpage = TRUE]{hyperref}
\fi
\hypersetup{breaklinks=true,
            bookmarks=true,
            pdfauthor={Nils Paffen, David Schulze},
            pdftitle={Stay home and let the simulation play},
            colorlinks=true,
            citecolor=blue,
            urlcolor=blue,
            linkcolor=magenta,
            pdfborder={0 0 0}}
\urlstyle{same}  % don't use monospace font for urls
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\setcounter{secnumdepth}{5}

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\newcommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}
  \title{Stay home and let the simulation play}
  \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
\subtitle{Predicting Kreisliga football league outcomes with statistical
simulations}
  \author{Nils Paffen, David Schulze}
  \preauthor{\centering\large\emph}
  \postauthor{\par}
  \predate{\centering\large\emph}
  \postdate{\par}
  \date{today}

\usepackage{dcolumn}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{threeparttablex}
\usepackage[normalem]{ulem}
\usepackage{makecell}
\usepackage{xcolor}

%% linespread settings

\usepackage{setspace}

\onehalfspacing

% Language Setup

\usepackage{ifthen}
\usepackage{iflang}
\usepackage[super]{nth}
\usepackage[ngerman, english]{babel}

%Acronyms
\usepackage[printonlyused, withpage, nohyperlinks]{acronym}
\usepackage{changepage}

% Multicols for the Title page
\usepackage{multicol}

\begin{document}

\selectlanguage{english}


%\maketitle

\begin{titlepage}
  \noindent\begin{minipage}{0.6\textwidth}
	  \IfLanguageName{english}{University of Duisburg-Essen}{Universität Duisburg-Essen}\\
	  \IfLanguageName{english}{Faculty of Business Administration and Economics}{Fakultät für Wirtschaftswissensschaften}\\
	  \IfLanguageName{english}{Chair of Economeics}{Lehrstuhl für Wirtschaftswissenschaften}\\
  \end{minipage}
	\begin{minipage}{0.4\textwidth}
	  \begin{flushright}
  	  \vspace{-0.5cm}
      \IfLanguageName{english}{\includegraphics*[width=5cm]{Includes/duelogo_en.png}}{\includegraphics*[width=5cm]{Includes/duelogo_de.png}}
	  \end{flushright}
	\end{minipage}
  \\
  \vspace{0.5cm}
  \begin{center}
  \huge{Stay home and let the simulation play}\\
  \vspace{.25cm}
  \Large{Predicting Kreisliga football league outcomes with statistical
simulations}\\
  \vspace{0.5cm}
  \large{Working Paper}\\
  \vspace{0.5cm}
  \large{  \IfLanguageName{english}{Submitted to the Faculty of \\ Economics  \\at the \\University of Duisburg-Essen}{Vorgelegt der \\Fakultät für Wirtschaftswissenschaften der \\ Universität Duisburg-Essen}\\}
  \vspace{0.75cm}
  \large{\IfLanguageName{english}{from:}{von:}}\\
  \vspace{0.5cm}
  Nils Paffen, David Schulze\\
  \end{center}
  %\vspace{2cm}
  \vfill
  \hrulefill

  \noindent\begin{minipage}[t]{0.3\textwidth}
  \IfLanguageName{english}{Reviewer:}{Erstgutachter:}
  \end{minipage}
  \begin{minipage}[t]{0.7\textwidth}
  \hspace{1cm}Prof.~Dr.~Christoph Hanck
  \end{minipage}

  \noindent\begin{minipage}[t]{0.3\textwidth}
  \IfLanguageName{english}{Deadline:}{Abgabefrist:}
  \end{minipage}
  \begin{minipage}[t]{0.7\textwidth}
  \hspace{1cm}
  \end{minipage}

  \hrulefill

  \begin{multicols}{3}

  Name:

  Matriculation Number:

  E-Mail:

  Study Path:

  Semester:

  Graduation (est.):
 
  \columnbreak

  David Schulze

  --
  
  david.schulze@rgs-econ.de

  PhD Economics

  \nth{2}

  -- 
  
  \columnbreak

  Nils Paffen

  3071594
  
  nils.paffen@stud.uni-due.de

  M.Sc. Economics

  \nth{2}

  Winter Term 2021

	\end{multicols}

\end{titlepage}

\newgeometry{top=2cm, left = 5cm, right = 2.5cm, bottom = 2.5cm}


\pagenumbering{Roman}
{
\hypersetup{linkcolor=black}

\setcounter{tocdepth}{3}
\tableofcontents
}

\newpage
\listoffigures
\addcontentsline{toc}{section}{List of Figures}

%\newpage
\listoftables
\addcontentsline{toc}{section}{List of Tables}

\section*{List of Abbreviations}
\addcontentsline{toc}{section}{List of Abbreviations}

\begin{adjustwidth}{1.5em}{0pt}

\begin{acronym}[dummyyyy]
 \acro{LASSO}{Least Absolute Shrinkage and Selection Operator}
 \acro{pcr}{Principal Components Regression}
 \acro{RMSE}{Root Mean Squared Error}
 \acro{MAE}{Mean Absolute Error}
 \acro{SEM}{Single Electricity Market}
 \acro{I-SEM}{Integrated Single Electricity Market}
 \acro{EU}{European Union}
 \acro{DM}{Diebold-Mariano}


%Falls eine Abkürzung in der Mehrzahl nicht einfach auf "s" endet muss das speziell eingestellt werden.
% \acro{slmtA}{super lange mega tolle Abkürzung} %Einzahl
 %\acroplural{slmtA}[slmtAs]{super lange mega tolle Abkürzungen} %Mehrzahl
 \acro{dummyyyy}{dummyyy}
\end{acronym}

\end{adjustwidth}

\restoregeometry

\newpage
\pagenumbering{arabic}
\hypertarget{abstract}{%
\section{Abstract}\label{abstract}}

Publicly available data and a high public interest are contributing to
the relevance and interest in forecasting football game results. We
provide a short overview of the state of the literature and use data
from the aborted Kreisliga A Recklinghausen season 2019-20 to predict
the season's outcome using three different statistical approaches. A
measure of each team's strength is calculated from past plays and used
as weight in the simulation. For the football league's organizers, using
a prediction algorithm to find a season outcome might be fairer than
either annulling the games played thus far or using the table as of now.
Research has shown, that measures like the Elo rating system are better
predictors of teams' performance than for example league table points on
their own. For this example, we find that gains from using advanced
methods are marginal when evaluating them with past seasons' data.

\hypertarget{introduction}{%
\section{Introduction}\label{introduction}}

The Covid-19 epidemic forced sports leagues in Germany to suspend
championships that were already in full swing. For example, the
Kreisliga Herren Klasse 2 in Recklinghausen finished around 150 games,
before the rest were canceled starting from Sunday March12, 2020,
leaving around 90 games left unplayed until the last planned day of the
tournament on Sunday May 24, 2020. Given that there probably won't be a
chance to make up those games later, a burning question for many players
and fans is naturally: What if they would have played those games? We
attempt to use data on games already played from the website
\href{http://www.fussball.de/spielplan/re-kl-a-2-kreis-recklinghausen-kreisliga-a-herren-saison1920-westfalen/-/staffel/027II28DS800000DVS5489B3VS3GHJJU-G\#!/section/matchplan}{fussball.de}
to answer this question, drawing on established forecasting methods from
the literature.

The league system in Germany features two rounds per season. Each club
plays each other club twice: Once in each round, and once on each club's
home field. This means it's easier to forecast when compared with the
mode of tournaments the World Cup. There in the group stage, groups are
determined by luck of the draw, a process known as \enquote{seeding}.
Groups then play a so-called round-robin tournament, also known as
all-play-all, were all group members play against each other, which
corresponds to the mode in which the Kreisliga plays in each round. But
the World Cup then continues with single-elimination, or a knock-out
stage, which introduces even more random path dependencies that are not
needed for forecasting the Kreisliga. This implies that the part of the
existing literature on forecasting results in the FIFA World Cup
concerning the group stage remains highly relevant for the task at hand,
since the game rules are otherwise identical.

In the next part, we give an overview of models used and evaluated for
the purpose of predicting football match outcomes. We introduce a small
subset of models more in depth the third part. The fourth part contains
the results from calculating a simulation based on these for the
Kreisliga A Recklinghausen Herren Klasse 2. We also present some
comparative statistics of the model performance and draw some
conclusions in the last segment.

\hypertarget{literature}{%
\section{Literature}\label{literature}}

A natural starting point for forecasting match or season outcomes in
football tournaments is using the FIFA points ranking method that is
widely used to evaluate the strength of a team and updated after each
game. For example, a recent study by Correa et al.~\autocite*{correa}
uses FIFA points to forecast the results of the 2018 FIFA Men's World
Cup. This approach has however generated criticism
\textcite{mchale2007}, especially that it does not include new
information fast enough, and other methods have been proposed and
evaluated. The benchmark study by Lasek et al.~\autocite*{lasek2013}
compares established and proposed rankings. They find that FIFA rankings
perform slightly worse than alternative methods, especially a version of
the Elo rating system originally proposed by Arpad Elo for the United
States Chess Federation to rate competitive chess players that was
adapted for football championships by the authors of the website
EloRatings.net \autocite*{eloratings}.

Other studies show the effective prediction power of FIFA rankings,
e.g.~\textcite{suzuki2008}. Leitner et al.~\autocite*{leitner2010} find
that bookmakers odds are more predictive than FIFA rankings. In our case
we don't expect betting markets to be deep enough to make this a
feasible approach, although it would be an interesting reference point.
We do however adopt their use of Spearman's rank correlation between
simulated and real final tournament rankings to evaluate models'
performance and complement it with Kendall's tau. Lasek et
al.~\autocite*{lasek2013} evaluate using rating points, which are less
relevant for our use case than the absolute rankings, which determine
whether a team advances, stays or drops out of a league.

We consider three models for our calculation: First, a benchmark model
based on the table points of each team at the time when the league was
aborted. Second, an Elo rating system, and third a simple model based on
the Poisson distribution.

The benchmark model calculates the probability of winning a match by
dividing a team's current points (victories are 3, draws are 2) by the
total of their and their opponent's points, we can call this the
\enquote{points model}. This model does not include the possibility of a
draw. The probability is not updated with after each simulated game,
because this does not generate new information about a team's strength.

The second model is based on a version of the Elo rating system
published anonymously on the website EloRatings.net
\autocite*{eloratings}. The algorithm was originally developed for
ranking chess-players. As an \enquote{earned} rating system
\textcite{lasek2013} a team's rating is iteratively updated according to
the outcome of single matches and depending on the expected outcome with
regard to the opponent's rating. This version was especially adapted for
the use in ranking football teams. Glickman \autocite*{glickman1995}
offers a comprehensive discussion of the Elo rating system.

The third model is a very simple implementation of a Poisson
distribution that approximates a probability distribution of goals in
each game with a fixed parameter to adjust for the home advantage. This
approach follows the literature influenced by \textcite{maher1982} and
others. Generally, these models include different parameters to allow
for team-specific strengths when playing home or away, and while
defending or attacking. Parameters for e.g.~random effects can be added,
which we omit here for simplicity. For a general discussion see
\textcite{karlis2003}. Many extensions of this model as well as model
selection algorithms are possible.

For a more recent review of advances in the literature and a new
approach based on the Weinbull distribution we refer to
\textcite{boshnakov2017}. They use an evaluation based on calibration
curves as well as the payoff from betting strategies and find that their
model improves on previous models.

\hypertarget{data}{%
\section{Data}\label{data}}

For the simulation study we decided to use data from the amateur
football league of the Kreisliga A Kreis Recklinghausen class A1 in
Westphalia, further called Kreisliga A1, for the 2019/2020 season. 16
clubs will play against each other on a total of 30 match days in one
home and one away game each. Due to the Covid-19 pandemic, the
association has decided to cancel all matches from March 15, 2020. After
all, 20 matchdays have already been played until this point in time
which corresponds to a database of 158 matches. As the first half of the
season had already been completed, each team had already played at least
once against each team in the table. The extraction of real data from
websites using scraping scripts can be complicated, as website operators
have an interest in protecting their data from such automated queries.
\enquote{Fussball.de} is a website of the DFB (German Football
Association) which acts as a collection point for match results and
news, especially in the amateur sector. The match results of the website
itself cannot be directly read out. They are masked, so they are made
unreadable when viewing the HTML file and are only evaluated afterwards
using Javascript and transferred to the CSS of the site. The site also
offers a match report, which graphically represents a temporal course of
the match. This is broken down in the HTML code, in contrast to the
match results, unmasked, and shows the course of the match in text form.
With the help of regular expression operations, the game result can be
reconstructed. The data record was then divided into completed and
unplayed games. The latter amount to 89 in this season, which were
simulated with the methods in the following chapters.

For further analysis we decided to scrape the data of season 16/17,
17/18 and 18/19 aswell to perform out-of-sample error (OOSE) test
statistics. The latter will indicate the performance of the different
methods.

Give a short overview of the actual standing (ranking table after
matchday 20)

\hypertarget{predictive-models}{%
\section{Predictive Models}\label{predictive-models}}

To predict the outcome of the cancelled games, we calculate the
candidate rankings and use them to simulate the end of the 2019/2020
season, usually by way of calculating a winning probability for each
missing game. Specifically we calculate

\begin{itemize}
\item the points model,
\item the EloRankings.net model, 
\item a poisson model
\end{itemize}

The first model is just a simple baseline model that calculates the
probability of a team A winning a game againsta team B using the formula

\begin{align}
P(A wins) = \frac{table points_A}{{table points}_A + {table points}_B},
\end{align}

where \emph{table points} corresponds to the number of games won at the
current state of the season valued at three points plus the number of
draws valued at one point. This value also governs the ranking and
ultimate placement of the teams in the league. Two questions arise from
this approach. Firstly, should the table points be updated after each
simulated game? We argue no, because this would not include new
information about the relative strength of the teams and just increaes
the variance of the result. Secondly, we expect an average over many
simulated runs to converge to the initial table when the season was
interrupted. This would then defeat the purpose of running a simulaion
in the first place, because it does not add any new information, and we
could have just used the table as it were. Using this way of simulation
is however preferable to an unweighted coin toss, because that would
unfairly favor below average teams.

Our second model is based on the rating algorithm from
\href{eloratings.net/about}{eloratings.net}. The anonymous site operator
formulates the rating, representative of the strength of a team, as
follows:

\begin{align}
R_n = R_0 + K \times (W - W_e).
\end{align}

Here, \(R_n\) is defined as the new rating as an update of \(R_0\),
which is the old rating. The weighting factor for each match is defined
by the type of tournament in which the match takes place and also
controls for friendly matches, which is given to the lowest weight of
20. While matches in world championships and other major international
tournaments are given weights between 40 and 60, the rest falls into the
category \enquote{all other tournaments} which are given a weighting
factor of 30. Following this example, we also set K to 30 for matches
already played in the Kreisliga A. The weighting factor K is adjusted
again based on the goal difference of the result. Thus, K is increased
by \(\dfrac{K}{2}\) if the match was won with two goals, by
\(\dfrac{3}{4}\times K\) if the match was won with three goals and by
\(\dfrac{3}{4} + \dfrac{(N-3)}{8} \times K\), where N defines the goal
difference of the match if the match was won with four or more goals. W
is the result of the match. 0 for a loss, 0.5 for a draw and 1 for a
win. \(W_e\) is the probability of winning defined by the following
formula:

\begin{align}
W_e = 1/(10^{(-dr/400)}+1)
\end{align},

where dr is defined as the rating difference and the home team receives
a bonus of 100 points. This bonus is considered to be a psychological
advantage resulting from the fact that the game is played in the home
stadium(see, e.g., \textcite{Pollard2008}).

Our third model uses the poisson distribution to simulate the match
result with the probability of a goal in every minute of a match. The
probability matrix where the game result is drawn from is a
\(n \times n\) matrix where each cell indicates the proability of that
specific match result. While the rows indicates the goals of the home
team, the column indicates the goals of the away team. For example the
cell of the first row and in the first column indicates the likelihood
that the both teams socre \(0\) goals. The poisson probability function
of our model can be expressed as:

\begin{align}
P(x) = \dfrac{e^{-\lambda}\lambda^x}{x!}, \lambda > 0
\end{align}

where the lambda represents the average number of goals. First, we
estimate the following model from the matches already played:

\begin{align}
goals = home + team + opponent . 
\end{align}

Where goals represents the number of goals scored by a team in a game,
home presents a dummy variable that is 1 for the home team and 0 for the
away team,it serves to illustrate the home team bonus, team representing
the home team, and opponent representing the opponent team.

\% Table created by stargazer v.5.2.2 by Marek Hlavac, Harvard
University. E-mail: hlavac at fas.harvard.edu \% Date and time: Fr, Aug
28, 2020 - 13:52:46 \% Requires LaTeX packages: dcolumn

\begin{table}[!htbp] \centering 
  \caption{Regression ouput of the Poisson Model} 
  \label{} 
\small 
\begin{tabular}{@{\extracolsep{-30pt}}lD{.}{.}{-3} D{.}{.}{-3} D{.}{.}{-3} } 
\\[-1.8ex]\hline 
\hline \\[-1.8ex] 
\\[-1.8ex] & \multicolumn{3}{c}{goals} \\ 
 & \multicolumn{1}{c}{control} & \multicolumn{1}{c}{team} & \multicolumn{1}{c}{opponent} \\ 
\\[-1.8ex] & \multicolumn{1}{c}{(1)} & \multicolumn{1}{c}{(2)} & \multicolumn{1}{c}{(3)}\\ 
\hline \\[-1.8ex] 
 Constant & 0.752^{***}$ $(0.228) &  &  \\ 
  home & 0.241^{***}$ $(0.076) &  &  \\ 
  Adler Weseke II &  & -1.047^{***}$ $(0.249) & 0.595^{***}$ $(0.218) \\ 
  BVH Dorsten &  & -0.289$ $(0.199) & 0.051$ $(0.250) \\ 
  FC RW Dorsten &  & -0.877^{***}$ $(0.232) & 0.178$ $(0.237) \\ 
  Fenerbahce I. Marl &  & -0.564^{***}$ $(0.206) & 0.109$ $(0.244) \\ 
  SC Marl-Hamm &  & -0.145$ $(0.192) & 0.507^{**}$ $(0.226) \\ 
  SC Reken II &  & -0.405^{**}$ $(0.206) & 0.697^{***}$ $(0.220) \\ 
  SV Altendorf-Ulfkotte &  & -1.252^{***}$ $(0.277) & 1.089^{***}$ $(0.205) \\ 
  SV Lembeck &  & -0.216$ $(0.196) & 0.356$ $(0.230) \\ 
  SV Schermbeck II &  & -0.167$ $(0.186) & -0.267$ $(0.272) \\ 
  TSV Raesfeld &  & 0.021$ $(0.179) & -0.085$ $(0.258) \\ 
  TuS 05 Sinsen II &  & -0.902^{***}$ $(0.241) & 0.581^{***}$ $(0.219) \\ 
  TuS Gahlen &  & -0.266$ $(0.191) & -0.812^{***}$ $(0.315) \\ 
  TuS Velen &  & -0.409^{**}$ $(0.202) & 0.280$ $(0.233) \\ 
  VfL Ramsdorf &  & 0.072$ $(0.177) & -0.435$ $(0.283) \\ 
  Westfalia Gemen II &  & -0.559^{***}$ $(0.210) & 0.591^{***}$ $(0.220) \\ 
 \hline \\[-1.8ex] 
\textit{Notes:} & \multicolumn{3}{l}{$^{***}$Significant at the 1 percent level.} \\ 
 & \multicolumn{3}{l}{$^{**}$Significant at the 5 percent level.} \\ 
 & \multicolumn{3}{l}{$^{*}$Significant at the 10 percent level.} \\ 
\end{tabular} 
\end{table}

In summary, the coefficients of the model show that the club
\enquote{Altendorf-Ulfkotte}, both as home and away club, has a strong
negative and a strong positive influence???, both highly significant, on
goals, i.e.~the number of goals. Since the club is in the last place in
the current table, as mentioned in the Data section, we expected that it
would be easier to score goals if they played against the team on the
last place of the seasons soccer league table rather than the team on
the first place. On the other hand it will be harder for this last
placed team to score goals even if they are the home team.

Following Correa et al.~\autocite*{correa}, we then run the simulation
by drawing the results of each game from a binomial distribution. For
each game and team, the probability of winning is dividing the ranking
points awarded each team by their and their competitors sum of points.

Running this simulation repeatedly should indicate the distribution and
expected average of outcomes. Correa et al.~\autocite*{correa} execute
200,000 runs, but because of the relatively low complexity of the
Kreisliga's format compared to the World Cup, especially because there
are no eleminiation rounds, we expect to need less repetitions.

A few alternatives have been developed for forecasting football games.
The potential of using independent Poisson distributions to match the
empirical distribution of goals scored by a team has been improved on by
introducing correlation between the teams playing against one another in
a bivariate Poisson distribution \textcite{karlis2003}.

While the independent Poisson distributions already allowed for a better
fit and to model the outcome of draws, Boshnakov et
al.~\autocite*{boshnakov2016} used a Weibull count model to improve even
on the bivariate Poisson model, allowing them even to outperform betting
market in selected bets.

\hypertarget{results}{%
\section{Results}\label{results}}

For the simulation study using the elo rating, as explained in the
predictive models chapter,we used the average of all matches played in
the current season resulting in a tie for the probability of a draw.
Half of the percentage points are deducted from the home team's winning
probability and half from the away team's winning probability. Then we
draw from these three probabilities the game result, team home wins,
team away wins or draw. We repeat this procedure for all games and
evaluate the results with 3 points for the winning team, 1 point for
both teams in case of a draw and 0 points for the losing team.

In the poissonmodel we calculate for each match the goal probabilities
of both teams as a probability matrix based on the model estimation as
described in predictive models part.

All simulations were repeated until the rate of change of the point
average was 1\% or less. Aggregation to this point occurred after about
2580 for the elo model and after about 1980 for the poisson model.

\begin{table}[H]

\caption{\label{tab:unnamed-chunk-4}Simulated Final Score Table}
\centering
\resizebox{\linewidth}{!}{
\begin{tabular}[t]{r|l|r|l|r|l|r}
\hline
\multicolumn{1}{c|}{ } & \multicolumn{2}{c|}{Poisson Distribution Model} & \multicolumn{2}{c|}{Elo Rating Model} & \multicolumn{2}{c}{Points Model} \\
\cline{2-3} \cline{4-5} \cline{6-7}
rank & club\_name\_poisson & score\_poisson & club\_name\_elo & score\_elo & club\_name\_points & score\_points\\
\hline
\rowcolor{gray!6}  1 & VfL Ramsdorf & 63.46088 & VfL Ramsdorf & 64.34676 & VfL Ramsdorf & 72.19792\\
\hline
2 & TuS Gahlen & 57.54770 & TuS Gahlen & 58.74429 & TuS Gahlen & 65.04059\\
\hline
\rowcolor{gray!6}  3 & SV Schermbeck II & 56.68854 & SV Schermbeck II & 57.74274 & SV Schermbeck II & 63.51325\\
\hline
4 & Fenerbahce I. Marl & 52.45432 & Fenerbahce I. Marl & 53.52383 & Fenerbahce I. Marl & 58.06307\\
\hline
\rowcolor{gray!6}  5 & 1. SC BW Wulfen & 49.74609 & 1. SC BW Wulfen & 50.88454 & 1. SC BW Wulfen & 57.22107\\
\hline
6 & TSV Raesfeld & 49.58253 & TSV Raesfeld & 50.64084 & TSV Raesfeld & 55.75243\\
\hline
\rowcolor{gray!6}  7 & TuS Velen & 40.56790 & TuS Velen & 41.79078 & TuS Velen & 45.37873\\
\hline
8 & SC Marl-Hamm & 39.67895 & SC Marl-Hamm & 40.90701 & SV Lembeck & 44.14961\\
\hline
\rowcolor{gray!6}  9 & BVH Dorsten & 38.56991 & BVH Dorsten & 39.89500 & SC Marl-Hamm & 43.87890\\
\hline
10 & SV Lembeck & 38.49319 & SV Lembeck & 39.56838 & BVH Dorsten & 42.64140\\
\hline
\rowcolor{gray!6}  11 & FC RW Dorsten & 34.61080 & FC RW Dorsten & 35.82449 & FC RW Dorsten & 37.59242\\
\hline
12 & Westfalia Gemen II & 31.46037 & Westfalia Gemen II & 32.40101 & Westfalia Gemen II & 32.82422\\
\hline
\rowcolor{gray!6}  13 & SC Reken II & 27.79455 & SC Reken II & 29.11275 & SC Reken II & 27.60483\\
\hline
14 & TuS 05 Sinsen II & 22.68854 & TuS 05 Sinsen II & 23.86207 & TuS 05 Sinsen II & 21.27809\\
\hline
\rowcolor{gray!6}  15 & Adler Weseke II & 21.69107 & Adler Weseke II & 22.59512 & Adler Weseke II & 18.88125\\
\hline
16 & SV Altendorf-Ulfkotte & 18.52751 & SV Altendorf-Ulfkotte & 19.50446 & SV Altendorf-Ulfkotte & 13.98222\\
\hline
\end{tabular}}
\end{table}

\hypertarget{oose-test-statistics}{%
\section{OOSE Test Statistics}\label{oose-test-statistics}}

Making predictions of events that might never happen can fairly
criticized by a simple question. How do you know that your results
reflect reality as good as possible? Following George E. P. Box who is
known for his qoute \enquote{All models are wrong} which is often
extenden by \enquote{but some are usefull} we want to show that our
models cover the latter. The out-of-sample error test statistic is one
way to achieve this. One simply divides a dataset a small test data set
and a larger training data set. For the season 16/17, 17/18 and 18/19 we
decided to split the dataset at the same point where the COVID-19
pandemic forced the

Following \textcite{leitner2010}, we evaluate the models' performance
using the rank correlation between their predicted and the real ranking
tables for the three past years' seasons (2016, 2017 and 2018). To
increase the relevance for our use case, we use as much training data as
was available for this year's aborted season (2019-20). We find that the
Elo ranking system improves on the baseline model, which in turn
performs better than the simple Poisson model. The fact that the points
model achieves a 1.00 correlation in the 2017-18 season however makes
these results doubtful, since the points model converges to the table as
it was a the point of interruption. A perfect correlation with the final
table can thus only occur if there is no change in the ranking after
that date.

Generally, the high correlation between the predicted and the actual
table outcomes leads us to believe that adopting the results from each
method would provide a fair improvement over anulling the 2019-20
season.

\input{rank_corr.tex}

\input{append_rank_corr.tex}

\hypertarget{conclusion}{%
\section{Conclusion}\label{conclusion}}

The decision to quit all games later than 08th of march because of the
pandemic was not revised while the infection rates relaxed during may
and june in Germany. Combined with the unforseeble future of the
COVID-19 situation we see a more fair and balanced decision making
process by integrating statistical learning techniques, such as those,
shown in this paper.

TO DO:

-calculate draw in poisson from diagonal? -add caveats: what other
factors play a role, what alternative models are there? use sources
-goal distribution?

\newpage

\printbibliography



\end{document}
